network:
  schema: http
  host: evcc.local # .local suffix announces the hostname via mDNS
  port: 7070

interval: 10s # control cycle interval

meters:
  # Grid Meter: Simulator
  - name: grid
    type: custom
    power:
      source: js
      script: |
        1000 + Math.random() * 100

  # PV Meter: Simulator
  - name: pv
    type: custom
    power:
      source: js
      script: |
        5000 + Math.random() * 500

  # Battery Meter: Simulator
  - name: battery
    type: custom
    power:
      source: js
      script: |
        var soc = 50; // Simulation logic needed for stateful SOC
        1000
    soc:
      source: js
      script: |
        50
    capacity: 13.5 # kWh

chargers:
  # Charger: Simulator
  - name: wallbox
    type: custom
    status:
      source: js
      script: |
        "B" // Status A-F
    enabled:
      source: js
      script: |
        true
    enable:
      source: js
      script: |
        val
    maxcurrent:
      source: js
      script: |
        val

vehicles:
  # Vehicle: Simulator
  - name: ev
    title: Virtual Car
    type: custom
    soc:
      source: js
      script: |
        60
    capacity: 75 # kWh

site:
  title: Home
  meters:
    grid: grid
    pv: pv
    battery: battery

loadpoints:
  - title: Garage
    charger: wallbox
    vehicle: ev
    mode: pv
    phases: 3
    mincurrent: 6
    maxcurrent: 16
